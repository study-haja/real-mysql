### 9.2.6 내부 임시 테이블 활용

- MySQL 엔진이 스토리지 엔진으로부터 받아온 레코드를 정렬하거나 그루핑할 때는 내부적인 임시 테이블(Internal temporary table)을 사용
- 여기서 임시 테이블은 `CREATE TEMPORARY TABLE` 명령으로 만든 임시 테이블과는 다름.
- MySQL 엔진이 내부적인 가공을 위해 생성하는 임시 테이블은 다른 세션이나 다른 쿼리에서는 볼수 없으며 사용하는 것도 불가능
- Internal temporary table은 쿼리의 처리가 완료되면 자동으로 삭제됨.



#### 9.2.6.1 메모리 임시 테이블과 디스크 임시 테이블

- MySQL 8.0 이전 버전 까지는 원본 테이블의 스토리지 엔진과 관계없이 임시 테이블이 메모리를 사용하는 MEMORY 스토리지 엔진을 사용, 디스크에 저장될 때는 MyISAM 스토리지 엔진을 이용한다.
- MySQL 8.0 버전 부터는 메모리에 저장되는 임시테이블은 TempTable이라는 스토리지 엔진을 사용하고, 디스크에 저장되는 임시 테이블은 InnoDB 스토리지 엔진을 사용하도록 개선
  - MEMORY 스토리지 엔진은 가변 길이 타입을 지원하지 못해, 메모리 낭비가 심했음.
  - MyISAM 스토리지 엔진은 트랜잭션을 지원하지 못하는 문제점이 있음.