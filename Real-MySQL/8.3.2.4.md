# 인덱스 키 검색

인덱스는 `트리 탐색`을 통해 검색 속도를 향상 시킨다. U,D도 항상 해당 레코드를 먼저 검색하고 작업을 수행하기 때문에 트리 탐색을 사용한다. 

인덱스는 다음과 같을 때 효과를 볼 수 있다.

1. 키가 100% 또는 앞부분만 일치하는 경우
2. 부등호 비교 조건

하지만 이럴때는 인덱스를 사용할 수 없다.

1. 키 값의 뒷부분만 검색하는 경우
2. 인덱스의 키 값이 변형이 가해진 후 비교되는 경우
   * 이미 변형된 값은 B-Tree 인덱스에 존재하는 값이 아님
   * 따라서 함수나 연산을 수행한 결과로 정렬한다거나 검색하는 작업은 B-Tree의 장점을 사용 못함

InnoDB는 레코드 잠금이나 넥스트 키락이 검색을 수행한 인덱스를 잠근 후 테이블의 레코드를 잠그는 방식으로 구현돼 있다. 따라서 UPDATE, DELETE 문장이 실행될 때 테이블에 적절히 사용할 수 있는 인덱스가 없으면 불필요하게 많은 레코드를 잠근다. 따라서 InnoDB는 그만큼 인덱스의 설계가 중요하고 많은 부분에 영향을 미친다.