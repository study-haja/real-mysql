# UNCACHEABLE SUBQUERY

하나의 쿼리 문장에 서브쿼리가 하나만 있더라도 실제 그 서브쿼리가 한번만 실행되는 것은 아니다. 

하지만 조건이 똑같은 서브쿼리가 실행될 때는 다시 실행하지 않고 이전의 실행 결과를 그대로 사용할 수 있게 서브쿼리의 결과를 내부적인 캐시 공간에 담아둔다.참고로 여기서 말하는 서브쿼리 캐시는 쿼리 캐시나 파생 테이블과 전혀 무관하다.

* 서브쿼리 캐싱 방법

>  SUBQUERY는 한번만 실행해서 그 결과를 캐시하고 필요할 때 저장된 캐시를 이용해서 쿼리를 반환한다.
>
> DEPENDENT SUBQUERY는 SUBQUERY와 같이 캐시는 되지만, 외부쿼리의 값 단위로 캐시가 만들어지는 방식을 사용한다.

서브쿼리에 포함된 요소에 의해 캐시 자체가 불가능할 수 있는데, 그럴 경우 select_type이 UNCACHEABLE SUBQUERY 로 표시된다. 

캐시를 사용하지 못하게 하는 요소는 다음과 같다.

1. 사용자 변수가 서브쿼리에 사용된 경우
2. NOT-DETERMINISTIC 속성의 스토어 루틴이 서브쿼리 내에 사용된 경우
3. UUID, RAND와 같은 결과값이 호출할 때마다 달라지는 함수가 서브쿼리에 사용된 경우