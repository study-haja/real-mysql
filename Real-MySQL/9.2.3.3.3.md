# 임시 테이블을 이용한 정렬

앞에 살펴본 조인의 드라이빙 테이블만 정렬은 임시 테이블을 사용하지 않지만 그 외 패턴은 임시 테이블에 저장하고 그 결과를 다시 정렬하는 과정을 거친다. 다음 예를 보자.

```mysql
> SELECT *
	FROM employee e, salaries s
	WHERE s.emp_no=e.emp_no
		AND e.emp_no BETWEEN 100002 AND 100010
	ORDER BY s.salary;
```

위 예는 정렬 기준이 드라이빙 테이블이 아니라 드리븐 테이블의 컬럼이다. 즉 정렬이 수행되기 전에 salaries 테이블을 읽어야 하므로 이 쿼리는 조인된 데이터를 가지고 정렬할 수 밖에 없다.

```
... | EXTRA                                       |
----|---------------------------------------------|
... | using where; using temporary; using filesort| -> 조인된 데이터를 가지고 정렬
```

따라서 위 쿼리는 다음과 같은 절차를 보여준다.

1. 조건절을 만족한 employee 데이터를 검색
2. 정렬된 결과를 salaries 테이블과 조인
3. 조인된 결과를 임시 테이블로 저장
4. 임시 테이블로 정렬
5. 정렬된 결과  반환